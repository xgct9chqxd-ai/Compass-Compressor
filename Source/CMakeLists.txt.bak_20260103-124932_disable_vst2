juce_add_plugin(CompassCompressor
    COMPANY_NAME "Compass Audio"
    PLUGIN_NAME "CompassCompressor"
    PLUGIN_MANUFACTURER_CODE CmpA
    PLUGIN_CODE CmpC
    FORMATS AU VST3
    PRODUCT_NAME "Compass Compressor"
    BUNDLE_ID "com.CompassAudio.CompassCompressor"
    COPY_PLUGIN_AFTER_BUILD TRUE
)

# Generate JuceHeader.h for <JuceHeader.h> includes
juce_generate_juce_header(CompassCompressor)


target_sources(CompassCompressor PRIVATE
    PluginProcessor.cpp
    PluginProcessor.h
    PluginEditor.cpp
    PluginEditor.h
)

target_compile_definitions(CompassCompressor
    PRIVATE
        JUCE_VST2_REPLACEMENT=0
        JucePlugin_Build_VST2=0
        JUCE_USE_CURL=0
        JUCE_WEB_BROWSER=0
        JUCE_USE_SVG=1
)

target_link_libraries(CompassCompressor
    PRIVATE
        juce::juce_recommended_config_flags
        juce::juce_recommended_warning_flags
        juce::juce_recommended_lto_flags
        juce::juce_audio_utils
        juce::juce_dsp
        juce::juce_gui_extra
        juce::juce_audio_processors
        juce::juce_audio_basics
)
